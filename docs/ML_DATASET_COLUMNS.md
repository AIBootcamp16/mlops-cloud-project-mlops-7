# ML 데이터셋 컬럼 명세서

## 개요

**MLOps 기상 데이터 ML 데이터셋**의 모든 컬럼에 대한 상세한 설명입니다.

- **총 컬럼 수**: 30개
- **데이터 기간**: 2024년 1월 ~ 2025년 9월 (21개월)
- **관측소 수**: 23개 (전국 주요 기상 관측소)
- **데이터 수**: 약 342,500행

---

## 1. 기본 식별 정보 (2개)

### 1.1 `station_id` (문자열)
- **의미**: 기상청 관측소 고유 식별번호
- **형식**: 문자열 (예: "108", "112", "119")
- **예시값**:
  - "108": 서울
  - "112": 인천
  - "119": 수원
  - "133": 대전

### 1.2 `datetime` (날짜시간)
- **의미**: 기상 관측 시간
- **형식**: YYYY-MM-DD HH:MM:SS
- **예시값**: "2025-09-25 11:00:00"

---

## 2. 원시 기상 데이터 (3개)

### 2.1 `temperature` (실수)
- **의미**: 기온 (섭씨)
- **단위**: °C
- **범위**: -20°C ~ 40°C (일반적)
- **결측값**: NaN

### 2.2 `pm10` (실수)
- **의미**: 미세먼지(PM10) 농도
- **단위**: ㎍/m³
- **범위**: 0 ~ 200+ ㎍/m³
- **기준**: 환경부 대기오염 측정값

### 2.3 자외선 데이터 (3개)
- **`uv_uvb`** (실수): UVB 자외선 지수
- **`uv_uva`** (실수): UVA 자외선 지수
- **`uv_euv`** (실수): 홍반자외선 지수
- **단위**: mW/m²
- **특징**: 야간에는 0 또는 NaN

---

## 3. 시간 기반 피처 (8개)

### 3.1 기본 시간 정보 (3개)
- **`hour`** (정수): 시간 (0~23)
- **`day_of_week`** (정수): 요일 (0=월요일, 6=일요일)
- **`month`** (정수): 월 (1~12)

### 3.2 출퇴근 시간 구분 (3개)
- **`is_rush_hour`** (불린): 출퇴근 시간 여부 (7-9시, 18-20시)
- **`is_morning_rush`** (불린): 오전 출근 시간 (7-9시)
- **`is_evening_rush`** (불린): 오후 퇴근 시간 (18-20시)

### 3.3 주중/주말 구분 (2개)
- **`is_weekday`** (불린): 평일 여부 (월~금)
- **`is_weekend`** (불린): 주말 여부 (토~일)

### 3.4 계절 정보 (1개)
- **`season`** (범주형): 계절
  - `"spring"`: 봄 (3,4,5월)
  - `"summer"`: 여름 (6,7,8월)
  - `"autumn"`: 가을 (9,10,11월)
  - `"winter"`: 겨울 (12,1,2월)

---

## 4. 기온 기반 피처 (5개)

### 4.1 `temp_category` (범주형)
- **의미**: 온도 구간 분류
- **값**:
  - `"very_cold"`: 0°C 미만 (매우 추움)
  - `"cold"`: 0~10°C (추움)
  - `"mild"`: 10~20°C (온화함)
  - `"warm"`: 20~30°C (따뜻함)
  - `"hot"`: 30°C 초과 (더움)

### 4.2 `temp_comfort` (실수)
- **의미**: 온도 쾌적도 지수
- **계산**: 20 - |온도 - 20|
- **범위**: -20 ~ 20
- **해석**: 값이 클수록 쾌적 (20°C일 때 최대값 20)

### 4.3 `temp_extreme` (불린)
- **의미**: 극한 온도 여부
- **조건**: 0°C 미만 또는 30°C 초과
- **용도**: 위험 기상 상황 식별

### 4.4 냉난방 필요도 (2개)
- **`heating_needed`** (불린): 난방 필요 (10°C 미만)
- **`cooling_needed`** (불린): 냉방 필요 (25°C 초과)

---

## 5. 지역 기반 피처 (3개)

### 5.1 `is_metro_area` (불린)
- **의미**: 대도시권 여부
- **기준**: 주요 도시 관측소
- **대상**: 서울, 인천, 부산, 대구, 광주, 대전 등

### 5.2 `is_coastal` (불린)
- **의미**: 해안 지역 여부
- **특징**: 해양성 기후 영향권
- **대상**: 부산, 인천, 포항, 여수 등 연안 관측소

### 5.3 `region` (범주형)
- **의미**: 권역 구분 (관측소 번호 기반)
- **값**:
  - `"central"`: 중부권 (100번대)
  - `"south"`: 남부권 (200번대)
  - `"east"`: 동부권 (300번대)
  - `"west"`: 서부권 (900번대)
  - `"other"`: 기타

---

## 6. 대기질 기반 피처 (3개)

### 6.1 `pm10_grade` (범주형)
- **의미**: 미세먼지 등급 (환경부 기준)
- **값**:
  - `"good"`: 좋음 (0~30 ㎍/m³)
  - `"moderate"`: 보통 (31~80 ㎍/m³)
  - `"unhealthy"`: 나쁨 (81~150 ㎍/m³)
  - `"very_unhealthy"`: 매우 나쁨 (151+ ㎍/m³)

### 6.2 `mask_needed` (불린)
- **의미**: 마스크 착용 권장 여부
- **기준**: PM10 > 50 ㎍/m³
- **용도**: 건강 보호 가이드

### 6.3 `outdoor_activity_ok` (불린)
- **의미**: 야외활동 적합 여부
- **기준**: PM10 ≤ 80 ㎍/m³
- **용도**: 운동/외출 권고사항

---

## 7. 자외선 기반 피처 (2개)

### 7.1 `has_uv` (불린)
- **의미**: 자외선 존재 여부
- **조건**: UVB > 0 (낮 시간)
- **용도**: 주야간 구분

### 7.2 `sun_protection_needed` (불린)
- **의미**: 자외선 차단 필요 여부
- **기준**: UVB > 0.02 mW/m²
- **용도**: 선크림/양산 사용 권고

---

## 8. 종합 지수 (1개)

### 8.1 `comfort_score` (실수)
- **의미**: 출퇴근 쾌적지수
- **범위**: 0~100점
- **계산 기준**:
  - 기온 (50% 비중): 15~22°C 최적
  - 미세먼지 (30% 비중): ≤15 ㎍/m³ 최적
  - 출퇴근 시간 (-10점): 혼잡도 반영
  - 주말 (+5점): 여유로움
  - 극한 날씨 (-20점): 위험도 반영

**해석**:
- **90+점**: 매우 쾌적
- **70~89점**: 쾌적
- **50~69점**: 보통
- **30~49점**: 불쾌적
- **30점 미만**: 매우 불쾌적

---

## 활용 가이드

### 머신러닝 모델링 시 고려사항

1. **타겟 변수 후보**:
   - `comfort_score`: 회귀 문제
   - `temp_category`: 다중 분류
   - `pm10_grade`: 서열 분류

2. **중요한 피처**:
   - **핵심**: `temperature`, `pm10`, `hour`
   - **시간적**: `season`, `is_rush_hour`, `is_weekend`
   - **지역적**: `region`, `is_metro_area`, `is_coastal`

3. **피처 엔지니어링 참고**:
   - 시간 순환성: `hour`, `month` → sin/cos 변환 고려
   - 상호작용: `temperature` × `season`, `pm10` × `region`
   - 이상값: `temp_extreme`, `pm10` > 200 주의

4. **데이터 품질**:
   - 결측값: UV 데이터는 야간에 자연스럽게 누락
   - 이상값: 극한 기상 상황은 실제 데이터일 가능성 높음

---

## 업데이트 이력

- **2025-09-25**: 초기 문서 작성
- **데이터 버전**: v1.0.0
- **피처 파이프라인**: `feature_builder.py` 기반