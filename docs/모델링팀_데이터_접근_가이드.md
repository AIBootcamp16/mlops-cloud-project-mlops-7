# 모델링팀 데이터 접근 가이드

## 📊 데이터 경로 (고정)

### 실시간 추론용
```
s3://weather-mlops-team-data/ml_dataset/latest.parquet
```
- **업데이트 주기**: 매시간 자동 업데이트 (덮어쓰기)
- **데이터 범위**: 최신 1시간 데이터 (34개 feature)
- **용도**: API 실시간 추론

### 학습용
```
s3://weather-mlops-team-data/weather_pm10_integrated_full.csv
```
- **업데이트 주기**: 매시간 누적, 주 1회 정리 (일요일 새벽 2시)
- **데이터 범위**: 21개월 (630일) Rolling Window
- **용도**: 모델 재학습

## 💻 코드 예시

### Python (pandas)
```python
import pandas as pd

# 실시간 추론용 데이터
df = pd.read_parquet('s3://weather-mlops-team-data/ml_dataset/latest.parquet')

# 학습용 데이터
df = pd.read_csv('s3://weather-mlops-team-data/weather_pm10_integrated_full.csv')
```

### Python (boto3)
```python
import boto3
import pandas as pd

s3 = boto3.client('s3')

# 실시간 추론용
s3.download_file('weather-mlops-team-data', 'ml_dataset/latest.parquet', 'latest.parquet')
df = pd.read_parquet('latest.parquet')

# 학습용
s3.download_file('weather-mlops-team-data', 'weather_pm10_integrated_full.csv', 'master.csv')
df = pd.read_csv('master.csv')
```

## ✅ 장점

1. **고정 경로**: 월/일/시간이 바뀌어도 경로 변경 없음
2. **자동 최신화**: 매시간 자동으로 최신 데이터로 업데이트
3. **단순성**: 파일 검색 로직 불필요, 바로 접근
4. **신뢰성**: 항상 최신 21개월 데이터 보장

## 📝 참고사항

- 실시간 추론용 parquet 파일은 항상 최신 1시간 데이터만 포함
- 학습용 CSV는 오래된 데이터(630일 이전)가 주 1회 자동 삭제됨
- 중복 데이터는 자동으로 제거됨 (datetime + STN 기준)
